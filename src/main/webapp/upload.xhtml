<!DOCTYPE html>
<html lang="en"
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:t="http://myfaces.apache.org/tomahawk"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core">
    
    <h:body>
        <ui:composition template="./WEB-INF/template/template.xhtml">
            
            <ui:define name="content">
                <h:head>
                    <title><h:outputText value="#{msg['upload.title']}"/></title>
                </h:head>
                <f:view locale="#{languageBean.locale}">
                    <h1><h:outputText value="#{msg['upload.h1']}"/></h1>
                    <div class="meter">
                        <span style="width: 33%"></span>
                    </div>
                    <!-- enctype="multipart/form-data" -->
                    <h:form enctype="multipart/form-data" style="margin-top: 60px">
                        <c:if test="#{fileBean.resultDTO != null}">
                            <li style="margin-bottom: 10px; color: #666">
                                <h:outputText value="#{msg['upload.warning']}"/>
                            </li>
                        </c:if>
                        <t:inputFileUpload value="#{fileBean.uploadedFile}" style="color: #666;"/>
                        <li>
                            <h:messages style="color: red"/>
                        </li>
                        <div>
                            <h:button image="./resources/img/must_have_prev_48.png" outcome="index" style="margin: 15px 5px 0px 0px"/>
                            <h:commandButton action="#{fileBean.submitUpload()}" image="./resources/img/must_have_next_48.png" style="margin: 15px 0px 0px 5px"/>
                        </div>
                    </h:form>
                </f:view>
            </ui:define>
            
        </ui:composition>  
    </h:body> 
</html>